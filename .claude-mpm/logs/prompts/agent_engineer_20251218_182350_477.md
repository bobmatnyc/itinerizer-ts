---
timestamp: 2025-12-18T18:23:50.477533+00:00
type: agent_engineer
metadata: {"agent_type": "engineer", "agent_id": "engineer_bc691194-b92e-4217-8fbe-378faa708438", "session_id": "bc691194-b92e-4217-8fbe-378faa708438", "delegation_context": {"description": "Create migration to fix existing files", "timestamp": "2025-12-18T18:23:50.476360+00:00"}}
---


AGENT MEMORY - PROJECT-SPECIFIC KNOWLEDGE:
# Agent Memory: engineer
<!-- Last Updated: 2025-12-17T23:24:44.617242+00:00Z -->



INSTRUCTIONS: Review your memory above before proceeding. Apply learned patterns and avoid known mistakes.


Create a quick one-time migration script to normalize all existing itinerary files in `data/itineraries/`.

The script should:
1. Read each JSON file
2. Apply the `SchemaNormalizerService.normalizeItinerary()` to fix datetime issues
3. Write the normalized data back to the file
4. Report which files were fixed

Create the script at `scripts/normalize-existing.ts` and run it with `npx tsx scripts/normalize-existing.ts`.

Use the existing SchemaNormalizerService from `src/services/schema-normalizer.service.ts`.

After running, verify the files are valid by checking if they pass schema validation.